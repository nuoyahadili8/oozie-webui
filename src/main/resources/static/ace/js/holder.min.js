/*!

Holder - client side image placeholders
Version 2.8.0+7srgw
© 2015 Ivan Malopinsky - http://imsky.co

Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  MIT

*/
!function(a){if(a.document){var b=a.document;b.querySelectorAll||(b.querySelectorAll=function(c){var d,e=b.createElement("style"),f=[];for(b.documentElement.firstChild.appendChild(e),b._qsa=[],e.styleSheet.cssText=c+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",a.scrollBy(0,0),e.parentNode.removeChild(e);b._qsa.length;)d=b._qsa.shift(),d.style.removeAttribute("x-qsa"),f.push(d);return b._qsa=null,f}),b.querySelector||(b.querySelector=function(a){var c=b.querySelectorAll(a);return c.length?c[0]:null}),b.getElementsByClassName||(b.getElementsByClassName=function(a){return a=String(a).replace(/^|\s+/g,"."),b.querySelectorAll(a)}),Object.keys||(Object.keys=function(a){if(a!==Object(a))throw TypeError("Object.keys called on non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}),function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.atob=a.atob||function(a){a=String(a);var c,d=0,e=[],f=0,g=0;if(a=a.replace(/\s/g,""),a.length%4===0&&(a=a.replace(/=+$/,"")),a.length%4===1)throw Error("InvalidCharacterError");if(/[^+\/0-9A-Za-z]/.test(a))throw Error("InvalidCharacterError");for(;d<a.length;)c=b.indexOf(a.charAt(d)),f=f<<6|c,g+=6,24===g&&(e.push(String.fromCharCode(f>>16&255)),e.push(String.fromCharCode(f>>8&255)),e.push(String.fromCharCode(255&f)),g=0,f=0),d+=1;return 12===g?(f>>=4,e.push(String.fromCharCode(255&f))):18===g&&(f>>=2,e.push(String.fromCharCode(f>>8&255)),e.push(String.fromCharCode(255&f))),e.join("")},a.btoa=a.btoa||function(a){a=String(a);var c,d,e,f,g,h,i,j=0,k=[];if(/[^\x00-\xFF]/.test(a))throw Error("InvalidCharacterError");for(;j<a.length;)c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=a.charCodeAt(j++),f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,i=63&e,j===a.length+2?(h=64,i=64):j===a.length+1&&(i=64),k.push(b.charAt(f),b.charAt(g),b.charAt(h),b.charAt(i));return k.join("")}}(a),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(a){var b=this.__proto__||this.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])}),
// @license http://opensource.org/licenses/MIT
function(){if("performance"in a==!1&&(a.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in a.performance==!1){var b=Date.now();performance.timing&&performance.timing.navigationStart&&(b=performance.timing.navigationStart),a.performance.now=function(){return Date.now()-b}}}(),a.requestAnimationFrame||(a.webkitRequestAnimationFrame?!function(a){a.requestAnimationFrame=function(b){return webkitRequestAnimationFrame(function(){b(a.performance.now())})},a.cancelAnimationFrame=webkitCancelAnimationFrame}(a):a.mozRequestAnimationFrame?!function(a){a.requestAnimationFrame=function(b){return mozRequestAnimationFrame(function(){b(a.performance.now())})},a.cancelAnimationFrame=mozCancelAnimationFrame}(a):!function(a){a.requestAnimationFrame=function(b){return a.setTimeout(b,1e3/60)},a.cancelAnimationFrame=a.clearTimeout}(a))}}(this),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Holder=b():a.Holder=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){(function(b){function d(a,b,c,d){var f=e(c.substr(c.lastIndexOf(a.domain)),a);f&&g({mode:null,el:d,flags:f,engineSettings:b})}function e(a,b){var c={theme:y(E.settings.themes.gray,null),stylesheets:b.stylesheets,instanceOptions:b};return f(a,c)}function f(a,b){var c=a.split("?"),d=c[0].split("/");b.holderURL=a;var e=d[1],f=e.match(/([\d]+p?)x([\d]+p?)/);if(!f)return!1;if(b.fluid=-1!==e.indexOf("p"),b.dimensions={width:f[1].replace("p","%"),height:f[2].replace("p","%")},2===c.length){var g=s.parse(c[1]);if(g.bg&&(b.theme.background=(-1===g.bg.indexOf("#")?"#":"")+g.bg),g.fg&&(b.theme.foreground=(-1===g.fg.indexOf("#")?"#":"")+g.fg),g.bg&&!g.fg&&(b.autoFg=!0),g.theme&&b.instanceOptions.themes.hasOwnProperty(g.theme)&&(b.theme=y(b.instanceOptions.themes[g.theme],null)),g.text&&(b.text=g.text),g.textmode&&(b.textmode=g.textmode),g.size&&(b.size=g.size),g.font&&(b.font=g.font),g.align&&(b.align=g.align),b.nowrap=u.truthy(g.nowrap),b.auto=u.truthy(g.auto),b.outline=u.truthy(g.outline),u.truthy(g.random)){E.vars.cache.themeKeys=E.vars.cache.themeKeys||Object.keys(b.instanceOptions.themes);var h=E.vars.cache.themeKeys[0|Math.random()*E.vars.cache.themeKeys.length];b.theme=y(b.instanceOptions.themes[h],null)}}return b}function g(a){var b=a.mode,c=a.el,d=a.flags,e=a.engineSettings,f=d.dimensions,g=d.theme,i=f.width+"x"+f.height;if(b=null==b?d.fluid?"fluid":"image":b,null!=d.text&&(g.text=d.text,"object"===c.nodeName.toLowerCase())){for(var j=g.text.split("\\n"),m=0;m<j.length;m++)j[m]=u.encodeHtmlEntity(j[m]);g.text=j.join("\\n")}var n=d.holderURL,o=y(e,null);if(d.font&&(g.font=d.font,!o.noFontFallback&&"img"===c.nodeName.toLowerCase()&&E.setup.supportsCanvas&&"svg"===o.renderer&&(o=y(o,{renderer:"canvas"}))),d.font&&"canvas"==o.renderer&&(o.reRender=!0),"background"==b)null==c.getAttribute("data-background-src")&&w.setAttr(c,{"data-background-src":n});else{var p={};p[E.vars.dataAttr]=n,w.setAttr(c,p)}d.theme=g,c.holderData={flags:d,engineSettings:o},("image"==b||"fluid"==b)&&w.setAttr(c,{alt:g.text?g.text+" ["+i+"]":i});var q={mode:b,el:c,holderSettings:{dimensions:f,theme:g,flags:d},engineSettings:o};"image"==b?("html"!=o.renderer&&d.auto||(c.style.width=f.width+"px",c.style.height=f.height+"px"),"html"==o.renderer?c.style.backgroundColor=g.background:(h(q),"exact"==d.textmode&&(c.holderData.resizeUpdate=!0,E.vars.resizableImages.push(c),k(c)))):"background"==b&&"html"!=o.renderer?h(q):"fluid"==b&&(c.holderData.resizeUpdate=!0,"%"==f.height.slice(-1)?c.style.height=f.height:null!=d.auto&&d.auto||(c.style.height=f.height+"px"),"%"==f.width.slice(-1)?c.style.width=f.width:null!=d.auto&&d.auto||(c.style.width=f.width+"px"),("inline"==c.style.display||""===c.style.display||"none"==c.style.display)&&(c.style.display="block"),l(c),"html"==o.renderer?c.style.backgroundColor=g.background:(E.vars.resizableImages.push(c),k(c)))}function h(a){function c(){var b=null;switch(h.renderer){case"canvas":b=G(k,a);break;case"svg":b=H(k,a);break;default:throw"Holder: invalid renderer: "+h.renderer}return b}var d=null,e=a.mode,f=a.el,g=a.holderSettings,h=a.engineSettings;switch(h.renderer){case"svg":if(!E.setup.supportsSVG)return;break;case"canvas":if(!E.setup.supportsCanvas)return;break;default:return}var j={width:g.dimensions.width,height:g.dimensions.height,theme:g.theme,flags:g.flags},k=i(j);if(d=c(),null==d)throw"Holder: couldn't render placeholder";"background"==e?(f.style.backgroundImage="url("+d+")",f.style.backgroundSize=j.width+"px "+j.height+"px"):("img"===f.nodeName.toLowerCase()?w.setAttr(f,{src:d}):"object"===f.nodeName.toLowerCase()&&(w.setAttr(f,{data:d}),w.setAttr(f,{type:"image/svg+xml"})),h.reRender&&b.setTimeout(function(){var a=c();if(null==a)throw"Holder: couldn't render placeholder";"img"===f.nodeName.toLowerCase()?w.setAttr(f,{src:a}):"object"===f.nodeName.toLowerCase()&&(w.setAttr(f,{data:a}),w.setAttr(f,{type:"image/svg+xml"}))},150)),w.setAttr(f,{"data-holder-rendered":!0})}function i(a){function b(a,b,c,d){b.width=c,b.height=d,a.width=Math.max(a.width,b.width),a.height+=b.height}var c=E.defaults.size;switch(parseFloat(a.theme.size)?c=a.theme.size:parseFloat(a.flags.size)&&(c=a.flags.size),a.font={family:a.theme.font?a.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:j(a.width,a.height,c),units:a.theme.units?a.theme.units:E.defaults.units,weight:a.theme.fontweight?a.theme.fontweight:"bold"},a.text=a.theme.text||Math.floor(a.width)+"x"+Math.floor(a.height),a.noWrap=a.theme.nowrap||a.flags.nowrap,a.align=a.theme.align||a.flags.align||"center",a.flags.textmode){case"literal":a.text=a.flags.dimensions.width+"x"+a.flags.dimensions.height;break;case"exact":if(!a.flags.exactDimensions)break;a.text=Math.floor(a.flags.exactDimensions.width)+"x"+Math.floor(a.flags.exactDimensions.height)}var d=new t({width:a.width,height:a.height}),e=d.Shape,f=new e.Rect("holderBg",{fill:a.theme.background});if(f.resize(a.width,a.height),d.root.add(f),a.flags.outline){var g=new x(f.properties.fill);g=g.lighten(g.lighterThan("7f7f7f")?-.1:.1),f.properties.outline={fill:g.toHex(!0),width:2}}var h=a.theme.foreground;if(a.flags.autoFg){var i=new x(f.properties.fill),k=new x("fff"),l=new x("000",{alpha:.285714});h=i.blendAlpha(i.lighterThan("7f7f7f")?l:k).toHex(!0)}var m=new e.Group("holderTextGroup",{text:a.text,align:a.align,font:a.font,fill:h});m.moveTo(null,null,1),d.root.add(m);var n=m.textPositionData=F(d);if(!n)throw"Holder: staging fallback not supported yet.";m.properties.leading=n.boundingBox.height;var o=null,p=null,q=a.width*E.vars.lineWrapRatio,r=q;if(n.lineCount>1){var s,u=0,v=0,w=0;p=new e.Group("line"+w),("left"===a.align||"right"===a.align)&&(r=a.width*(1-2*(1-E.vars.lineWrapRatio)));for(var y=0;y<n.words.length;y++){var z=n.words[y];o=new e.Text(z.text);var A="\\n"==z.text;!a.noWrap&&(u+z.width>=r||A===!0)&&(b(m,p,u,m.properties.leading),m.add(p),u=0,v+=m.properties.leading,w+=1,p=new e.Group("line"+w),p.y=v),A!==!0&&(o.moveTo(u,0),u+=n.spaceWidth+z.width,p.add(o))}if(b(m,p,u,m.properties.leading),m.add(p),"left"===a.align)m.moveTo(a.width-q,null,null);else if("right"===a.align){for(s in m.children)p=m.children[s],p.moveTo(a.width-p.width,null,null);m.moveTo(0-(a.width-q),null,null)}else{for(s in m.children)p=m.children[s],p.moveTo((m.width-p.width)/2,null,null);m.moveTo((a.width-m.width)/2,null,null)}m.moveTo(null,(a.height-m.height)/2,null),(a.height-m.height)/2<0&&m.moveTo(null,0,null)}else o=new e.Text(a.text),p=new e.Group("line0"),p.add(o),m.add(p),"left"===a.align?m.moveTo(a.width-q,null,null):"right"===a.align?m.moveTo(0-(a.width-q),null,null):m.moveTo((a.width-n.boundingBox.width)/2,null,null),m.moveTo(null,(a.height-n.boundingBox.height)/2,null);return d}function j(a,b,c){var d=parseInt(a,10),e=parseInt(b,10),f=Math.max(d,e),g=Math.min(d,e),h=.8*Math.min(g,f*E.defaults.scale);return Math.round(Math.max(c,h))}function k(a){var b;b=null==a||null==a.nodeType?E.vars.resizableImages:[a];for(var c=0,d=b.length;d>c;c++){var e=b[c];if(e.holderData){var f=e.holderData.flags,g=z(e);if(g){if(!e.holderData.resizeUpdate)continue;if(f.fluid&&f.auto){var i=e.holderData.fluidConfig;switch(i.mode){case"width":g.height=g.width/i.ratio;break;case"height":g.width=g.height*i.ratio}}var j={mode:"image",holderSettings:{dimensions:g,theme:f.theme,flags:f},el:e,engineSettings:e.holderData.engineSettings};"exact"==f.textmode&&(f.exactDimensions=g,j.holderSettings.dimensions=f.dimensions),h(j)}else o(e)}}}function l(a){if(a.holderData){var b=z(a);if(b){var c=a.holderData.flags,d={fluidHeight:"%"==c.dimensions.height.slice(-1),fluidWidth:"%"==c.dimensions.width.slice(-1),mode:null,initialDimensions:b};d.fluidWidth&&!d.fluidHeight?(d.mode="width",d.ratio=d.initialDimensions.width/parseFloat(c.dimensions.height)):!d.fluidWidth&&d.fluidHeight&&(d.mode="height",d.ratio=parseFloat(c.dimensions.width)/d.initialDimensions.height),a.holderData.fluidConfig=d}else o(a)}}function m(){for(var a,c=[],d=Object.keys(E.vars.invisibleImages),e=0,f=d.length;f>e;e++)a=E.vars.invisibleImages[d[e]],z(a)&&"img"==a.nodeName.toLowerCase()&&(c.push(a),delete E.vars.invisibleImages[d[e]]);c.length&&D.run({images:c}),b.requestAnimationFrame(m)}function n(){E.vars.visibilityCheckStarted||(b.requestAnimationFrame(m),E.vars.visibilityCheckStarted=!0)}function o(a){a.holderData.invisibleId||(E.vars.invisibleId+=1,E.vars.invisibleImages["i"+E.vars.invisibleId]=a,a.holderData.invisibleId=E.vars.invisibleId)}function p(a){E.vars.debounceTimer||a.call(this),E.vars.debounceTimer&&b.clearTimeout(E.vars.debounceTimer),E.vars.debounceTimer=b.setTimeout(function(){E.vars.debounceTimer=null,a.call(this)},E.setup.debounce)}function q(){p(function(){k(null)})}var r=c(3),s=c(2),t=c(4),u=c(5),v=c(6),w=c(7),x=c(8),y=u.extend,z=u.dimensionCheck,A="http://www.w3.org/2000/svg",B="2.8.0",C="\nCreated with Holder.js "+B+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n",D={version:B,addTheme:function(a,b){return null!=a&&null!=b&&(E.settings.themes[a]=b),delete E.vars.cache.themeKeys,this},addImage:function(a,b){var c=w.getNodeArray(b);if(c.length)for(var d=0,e=c.length;e>d;d++){var f=w.newEl("img"),g={};g[E.setup.dataAttr]=a,w.setAttr(f,g),c[d].appendChild(f)}return this},setResizeUpdate:function(a,b){a.holderData&&(a.holderData.resizeUpdate=!!b,a.holderData.resizeUpdate&&k(a))},run:function(a){a=a||{};var c={},f=y(E.settings,a);E.vars.preempted=!0,E.vars.dataAttr=f.dataAttr||E.setup.dataAttr,E.vars.lineWrapRatio=f.lineWrapRatio||E.setup.lineWrapRatio,c.renderer=f.renderer?f.renderer:E.setup.renderer,-1===E.setup.renderers.join(",").indexOf(c.renderer)&&(c.renderer=E.setup.supportsSVG?"svg":E.setup.supportsCanvas?"canvas":"html");var h=w.getNodeArray(f.images),i=w.getNodeArray(f.bgnodes),j=w.getNodeArray(f.stylenodes),k=w.getNodeArray(f.objects);c.stylesheets=[],c.svgXMLStylesheet=!0,c.noFontFallback=f.noFontFallback?f.noFontFallback:!1;for(var l=0;l<j.length;l++){var m=j[l];if(m.attributes.rel&&m.attributes.href&&"stylesheet"==m.attributes.rel.value){var n=m.attributes.href.value,o=w.newEl("a");o.href=n;var p=o.protocol+"//"+o.host+o.pathname+o.search;c.stylesheets.push(p)}}for(l=0;l<i.length;l++)if(b.getComputedStyle){var q=b.getComputedStyle(i[l],null).getPropertyValue("background-image"),r=i[l].getAttribute("data-background-src"),s=r||q,t=null,v="?"+f.domain+"/";if(0===s.indexOf(v))t=s.slice(1);else if(-1!=s.indexOf(v)){var x=s.substr(s.indexOf(v)).slice(1),z=x.match(/([^\"]*)"?\)/);null!=z&&(t=z[1])}if(null!=t){var A=e(t,f);A&&g({mode:"background",el:i[l],flags:A,engineSettings:c})}}for(l=0;l<k.length;l++){var B=k[l],C={};try{C.data=B.getAttribute("data"),C.dataSrc=B.getAttribute(E.vars.dataAttr)}catch(D){}var F=null!=C.data&&0===C.data.indexOf(f.domain),G=null!=C.dataSrc&&0===C.dataSrc.indexOf(f.domain);F?d(f,c,C.data,B):G&&d(f,c,C.dataSrc,B)}for(l=0;l<h.length;l++){var H=h[l],I={};try{I.src=H.getAttribute("src"),I.dataSrc=H.getAttribute(E.vars.dataAttr),I.rendered=H.getAttribute("data-holder-rendered")}catch(D){}var J=null!=I.src,K=null!=I.dataSrc&&0===I.dataSrc.indexOf(f.domain),L=null!=I.rendered&&"true"==I.rendered;J?0===I.src.indexOf(f.domain)?d(f,c,I.src,H):K&&(L?d(f,c,I.dataSrc,H):!function(a,b,c,e,f){u.imageExists(a,function(a){a||d(b,c,e,f)})}(I.src,f,c,I.dataSrc,H)):K&&d(f,c,I.dataSrc,H)}return this}},E={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},F=function(){var a=null,b=null,c=null;return function(d){var e=d.root;if(E.setup.supportsSVG){var f=!1,g=function(a){return document.createTextNode(a)};(null==a||a.parentNode!==document.body)&&(f=!0),a=v.initSVG(a,e.properties.width,e.properties.height),a.style.display="block",f&&(b=w.newEl("text",A),c=g(null),w.setAttr(b,{x:0}),b.appendChild(c),a.appendChild(b),document.body.appendChild(a),a.style.visibility="hidden",a.style.position="absolute",a.style.top="-100%",a.style.left="-100%");var h=e.children.holderTextGroup,i=h.properties;w.setAttr(b,{y:i.font.size,style:u.cssProps({"font-weight":i.font.weight,"font-size":i.font.size+i.font.units,"font-family":i.font.family})}),c.nodeValue=i.text;var j=b.getBBox(),k=Math.ceil(j.width/(e.properties.width*E.vars.lineWrapRatio)),l=i.text.split(" "),m=i.text.match(/\\n/g);k+=null==m?0:m.length,c.nodeValue=i.text.replace(/[ ]+/g,"");var n=b.getComputedTextLength(),o=j.width-n,p=Math.round(o/Math.max(1,l.length-1)),q=[];if(k>1){c.nodeValue="";for(var r=0;r<l.length;r++)if(0!==l[r].length){c.nodeValue=u.decodeHtmlEntity(l[r]);var s=b.getBBox();q.push({text:l[r],width:s.width})}}return a.style.display="none",{spaceWidth:p,lineCount:k,boundingBox:j,words:q}}return!1}}(),G=function(){var a=w.newEl("canvas"),b=null;return function(c){null==b&&(b=a.getContext("2d"));var d=c.root;a.width=E.dpr(d.properties.width),a.height=E.dpr(d.properties.height),b.textBaseline="middle";var e=d.children.holderBg,f=E.dpr(e.width),g=E.dpr(e.height),h=2,i=h/2;b.fillStyle=e.properties.fill,b.fillRect(0,0,f,g),e.properties.outline&&(b.strokeStyle=e.properties.outline.fill,b.lineWidth=e.properties.outline.width,b.moveTo(i,i),b.lineTo(f-i,i),b.lineTo(f-i,g-i),b.lineTo(i,g-i),b.lineTo(i,i),b.moveTo(0,i),b.lineTo(f,g-i),b.moveTo(0,g-i),b.lineTo(f,i),b.stroke());var j=d.children.holderTextGroup;j.properties;b.font=j.properties.font.weight+" "+E.dpr(j.properties.font.size)+j.properties.font.units+" "+j.properties.font.family+", monospace",b.fillStyle=j.properties.fill;for(var k in j.children){var l=j.children[k];for(var m in l.children){var n=l.children[m],o=E.dpr(j.x+l.x+n.x),p=E.dpr(j.y+l.y+n.y+j.properties.leading/2);b.fillText(n.properties.text,o,p)}}return a.toDataURL("image/png")}}(),H=function(){if(b.XMLSerializer){var a=w.createXML(),c=v.initSVG(null,0,0),d=w.newEl("rect",A);return c.appendChild(d),function(b,e){var f=b.root;v.initSVG(c,f.properties.width,f.properties.height);for(var g=c.querySelectorAll("g"),h=0;h<g.length;h++)g[h].parentNode.removeChild(g[h]);var i=e.holderSettings.flags.holderURL,j="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),k=w.newEl("g",A),l=f.children.holderTextGroup,m=l.properties,n=w.newEl("g",A),o=l.textPositionData,p="#"+j+" text { "+u.cssProps({fill:m.fill,"font-weight":m.font.weight,"font-family":m.font.family+", monospace","font-size":m.font.size+m.font.units})+" } ",q=a.createComment("\nSource URL: "+i+C),r=a.createCDATASection(p),s=c.querySelector("style"),t=f.children.holderBg;if(w.setAttr(k,{id:j}),c.insertBefore(q,c.firstChild),s.appendChild(r),k.appendChild(d),t.properties.outline){var x=w.newEl("path",A),y=t.properties.outline.width,z=y/2;w.setAttr(x,{d:["M",z,z,"H",t.width-z,"V",t.height-z,"H",z,"V",0,"M",0,z,"L",t.width,t.height-z,"M",0,t.height-z,"L",t.width,z].join(" "),"stroke-width":t.properties.outline.width,stroke:t.properties.outline.fill,fill:"none"}),k.appendChild(x)}k.appendChild(n),c.appendChild(k),w.setAttr(d,{width:t.width,height:t.height,fill:t.properties.fill}),l.y+=.8*o.boundingBox.height;for(var B in l.children){var D=l.children[B];for(var E in D.children){var F=D.children[E],G=l.x+D.x+F.x,H=l.y+D.y+F.y,I=w.newEl("text",A),J=document.createTextNode(null);w.setAttr(I,{x:G,y:H}),J.nodeValue=F.properties.text,I.appendChild(J),n.appendChild(I)}}var K=v.svgStringToDataURI(v.serializeSVG(c,e.engineSettings),"background"===e.mode);return K}}}();for(var I in E.flags)E.flags.hasOwnProperty(I)&&(E.flags[I].match=function(a){return a.match(this.regex)});E.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},E.dpr=function(a){return a*E.setup.ratio},E.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var a=1,c=1,d=w.newEl("canvas"),e=null;d.getContext&&-1!=d.toDataURL("image/png").indexOf("data:image/png")&&(E.setup.renderer="canvas",e=d.getContext("2d"),E.setup.supportsCanvas=!0),E.setup.supportsCanvas&&(a=b.devicePixelRatio||1,c=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),E.setup.ratio=a/c,document.createElementNS&&document.createElementNS(A,"svg").createSVGRect&&(E.setup.renderer="svg",E.setup.supportsSVG=!0)}(),n(),r&&r(function(){E.vars.preempted||D.run(),b.addEventListener?(b.addEventListener("resize",q,!1),b.addEventListener("orientationchange",q,!1)):b.attachEvent("onresize",q),"object"==typeof b.Turbolinks&&b.document.addEventListener("page:change",function(){D.run()})}),a.exports=D}).call(b,function(){return this}())},function(a,b,c){var d=encodeURIComponent,e=decodeURIComponent,f=c(10),g=c(9),h=/(\w+)\[(\d+)\]/,i=/\w+\.\w+/;b.parse=function(a){if("string"!=typeof a)return{};if(a=f(a),""===a)return{};"?"===a.charAt(0)&&(a=a.slice(1));for(var b={},c=a.split("&"),d=0;d<c.length;d++){var g,j,k,l=c[d].split("="),m=e(l[0]);if(g=h.exec(m))b[g[1]]=b[g[1]]||[],b[g[1]][g[2]]=e(l[1]);else if(g=i.test(m)){for(g=m.split("."),j=b;g.length;)if(k=g.shift(),k.length){if(j[k]){if(j[k]&&"object"!=typeof j[k])break}else j[k]={};g.length||(j[k]=e(l[1])),j=j[k]}}else b[l[0]]=null==l[1]?"":e(l[1])}return b},b.stringify=function(a){if(!a)return"";var b=[];for(var c in a){var e=a[c];if("array"!=g(e))b.push(d(c)+"="+d(a[c]));else for(var f=0;f<e.length;++f)b.push(d(c+"["+f+"]")+"="+d(e[f]))}return b.join("&")}},function(a,b,c){/*!
	 * onDomReady.js 1.4.0 (c) 2013 Tubal Martin - MIT license
	 *
	 * Specially modified to work with Holder.js
	 */
function d(a){function b(a){if(!v){if(!g.body)return e(b);for(v=!0;a=w.shift();)e(a)}}function c(a){(t||a.type===i||g[m]===l)&&(d(),b())}function d(){t?(g[s](q,c,j),a[s](i,c,j)):(g[o](r,c),a[o](k,c))}function e(a,b){setTimeout(a,+b>=0?b:1)}function f(a){v?e(a):w.push(a)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function y(){document.removeEventListener("DOMContentLoaded",y,!1),document.readyState="complete"},!1),document.readyState="loading");var g=a.document,h=g.documentElement,i="load",j=!1,k="on"+i,l="complete",m="readyState",n="attachEvent",o="detachEvent",p="addEventListener",q="DOMContentLoaded",r="onreadystatechange",s="removeEventListener",t=p in g,u=j,v=j,w=[];if(g[m]===l)e(b);else if(t)g[p](q,c,j),a[p](i,c,j);else{g[n](r,c),a[n](k,c);try{u=null==a.frameElement&&h}catch(x){}u&&u.doScroll&&!function z(){if(!v){try{u.doScroll("left")}catch(a){return e(z,50)}d(),b()}}()}return f.version="1.4.0",f.isReady=function(){return v},f}a.exports="undefined"!=typeof window&&d(window)},function(a,b,c){var d=function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}var c=1,d=function(a){c++,this.parent=null,this.children={},this.id=c,this.name="n"+c,"undefined"!=typeof a&&(this.name=a),this.x=this.y=this.z=0,this.width=this.height=0};d.prototype.resize=function(a,b){null!=a&&(this.width=a),null!=b&&(this.height=b)},d.prototype.moveTo=function(a,b,c){this.x=null!=a?a:this.x,this.y=null!=b?b:this.y,this.z=null!=c?c:this.z},d.prototype.add=function(a){var b=a.name;if("undefined"!=typeof this.children[b])throw"SceneGraph: child already exists: "+b;this.children[b]=a,a.parent=this};var e=function(){d.call(this,"root"),this.properties=a};e.prototype=new d;var f=function(a,c){if(d.call(this,a),this.properties={fill:"#000000"},"undefined"!=typeof c)b(this.properties,c);else if("undefined"!=typeof a&&"string"!=typeof a)throw"SceneGraph: invalid node name"};f.prototype=new d;var g=function(){f.apply(this,arguments),this.type="group"};g.prototype=new f;var h=function(){f.apply(this,arguments),this.type="rect"};h.prototype=new f;var i=function(a){f.call(this),this.type="text",this.properties.text=a};i.prototype=new f;var j=new e;return this.Shape={Rect:h,Text:i,Group:g},this.root=j,this};a.exports=d},function(a,b,c){b.extend=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);if(null!=b)for(var e in b)b.hasOwnProperty(e)&&(c[e]=b[e]);return c},b.cssProps=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+":"+a[c]);return b.join(";")},b.encodeHtmlEntity=function(a){for(var b=[],c=0,d=a.length-1;d>=0;d--)c=a.charCodeAt(d),c>128?b.unshift(["&#",c,";"].join("")):b.unshift(a[d]);return b.join("")},b.imageExists=function(a,b){var c=new Image;c.onerror=function(){b.call(this,!1)},c.onload=function(){b.call(this,!0)},c.src=a},b.decodeHtmlEntity=function(a){return a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)})},b.dimensionCheck=function(a){var b={height:a.clientHeight,width:a.clientWidth};return b.height&&b.width?b:!1},b.truthy=function(a){return"string"==typeof a?"true"===a||"yes"===a||"1"===a||"on"===a||"✓"===a:!!a}},function(a,b,c){(function(a){var d=c(7),e="http://www.w3.org/2000/svg",f=8;b.initSVG=function(a,b,c){var g,h,i=!1;a&&a.querySelector?(h=a.querySelector("style"),null===h&&(i=!0)):(a=d.newEl("svg",e),i=!0),i&&(g=d.newEl("defs",e),h=d.newEl("style",e),d.setAttr(h,{type:"text/css"}),g.appendChild(h),a.appendChild(g)),a.webkitMatchesSelector&&a.setAttribute("xmlns",e);for(var j=0;j<a.childNodes.length;j++)a.childNodes[j].nodeType===f&&a.removeChild(a.childNodes[j]);for(;h.childNodes.length;)h.removeChild(h.childNodes[0]);return d.setAttr(a,{width:b,height:c,viewBox:"0 0 "+b+" "+c,preserveAspectRatio:"none"}),a},b.svgStringToDataURI=function(){var a="data:image/svg+xml;charset=UTF-8,",b="data:image/svg+xml;charset=UTF-8;base64,";return function(c,d){return d?b+btoa(unescape(encodeURIComponent(c))):a+encodeURIComponent(c)}}(),b.serializeSVG=function(b,c){if(a.XMLSerializer){var e=new XMLSerializer,f="",g=c.stylesheets;if(c.svgXMLStylesheet){for(var h=d.createXML(),i=g.length-1;i>=0;i--){var j=h.createProcessingInstruction("xml-stylesheet",'href="'+g[i]+'" rel="stylesheet"');h.insertBefore(j,h.firstChild)}h.removeChild(h.documentElement),f=e.serializeToString(h)}var k=e.serializeToString(b);return k=k.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),f+k}}}).call(b,function(){return this}())},function(a,b,c){(function(a){b.newEl=function(b,c){return a.document?null==c?document.createElement(b):document.createElementNS(c,b):void 0},b.setAttr=function(a,b){for(var c in b)a.setAttribute(c,b[c])},b.createXML=function(){return a.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},b.getNodeArray=function(b){var c=null;return"string"==typeof b?c=document.querySelectorAll(b):a.NodeList&&b instanceof a.NodeList?c=b:a.Node&&b instanceof a.Node?c=[b]:a.HTMLCollection&&b instanceof a.HTMLCollection?c=b:b instanceof Array?c=b:null===b&&(c=[]),c}}).call(b,function(){return this}())},function(a,b,c){function d(a){return this.rgb={},this.yuv={},this.raw=a,this.rgb.r=(16711680&a)>>16,this.rgb.g=(65280&a)>>8,this.rgb.b=255&a,this.yuv.y=.2126*this.rgb.r+.7152*this.rgb.g+.0722*this.rgb.b,this.yuv.u=-.09991*this.rgb.r-.33609*this.rgb.g+.436*this.rgb.b,this.yuv.v=.615*this.rgb.r-.55861*this.rgb.g-.05639*this.rgb.b,this}var e=function(a,b){"string"==typeof a&&("#"===a.charAt(0)&&(a=a.slice(1)),/[^a-f0-9]+/i.test(a)||(3===a.length&&(a=a.replace(/./g,"$&$&")),6===a.length&&(this.alpha=1,b&&(this.alpha=b.alpha||this.alpha),d.call(this,parseInt(a,16)))))};e.rgbToHex=function(a,b,c){return(((0|a)<<16)+((0|b)<<8)+(0|c)).toString(16)},e.prototype.lighten=function(a){var b=this.rgb.r,c=this.rgb.g,d=this.rgb.b,f=255*a|0;return new e(e.rgbToHex(b+f,c+f,d+f))},e.prototype.toHex=function(a){return(a?"#":"")+this.raw.toString(16)},e.prototype.lighterThan=function(a){return a instanceof e||(a=new e(a)),this.yuv.y>a.yuv.y},e.prototype.blendAlpha=function(a){a instanceof e||(a=new e(a));var b=a,c=this,d=b.alpha*b.rgb.r+(1-b.alpha)*c.rgb.r,f=b.alpha*b.rgb.g+(1-b.alpha)*c.rgb.g,g=b.alpha*b.rgb.b+(1-b.alpha)*c.rgb.b;return new e(e.rgbToHex(d,f,g))},a.exports=e},function(a,b,c){var d=Object.prototype.toString;a.exports=function(a){switch(d.call(a)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===a?"null":void 0===a?"undefined":a!==a?"nan":a&&1===a.nodeType?"element":(a=a.valueOf?a.valueOf():Object.prototype.valueOf.apply(a),typeof a)}},function(a,b,c){function d(a){return a.replace(/^\s*|\s*$/g,"")}b=a.exports=d,b.left=function(a){return a.replace(/^\s*/,"")},b.right=function(a){return a.replace(/\s*$/,"")}}])}),function(a,b){b&&(Holder=a.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package);